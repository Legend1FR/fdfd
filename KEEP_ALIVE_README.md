# ๏ฟฝ Keep Alive System ุงูููุญุฏุซ ููุจูุช ุนูู Render

## ุงููุดููุฉ ุงููุญูููุฉ
ุฎุฏูุฉ Render ุงููุฌุงููุฉ ุชุฏุฎู ูู "ูุถุน ุงูููู" (Sleep Mode) ุจุนุฏ 15 ุฏูููุฉ ูู ุนุฏู ุงููุดุงุท. ูุฐุง ูุคุฏู ุฅูู:
- ุชููู ุงูุจูุช ูุคูุชุงู
- ุงูุญุงุฌุฉ ูุงุณุชููุงุธ ุงูุฎุฏูุฉ ุนูุฏ ูุตูู ุทูุจ ุฌุฏูุฏ
- ููุฏุงู ุจุนุถ ุงูุฑุณุงุฆู ุฃุซูุงุก ูุชุฑุฉ ุงูููู
- ุธููุฑ ุฑุณุงูุฉ "Service waking up..."

## ๐ ุงูุญู ุงูุฌุฏูุฏ ุงูููุทุจู

### 1. Keep Alive ุฏุงุฎูู ูุญุณู (Internal Keep Alive)
ุชู ุฅุถุงูุฉ ูุธุงู Keep Alive ูุฏูุฌ ูุชุทูุฑ ูู ุงูุจูุช:

- **ุงูููู ุงูุฌุฏูุฏ**: `keep-alive.js` - ูุฆุฉ ูุชุฎุตุตุฉ ููู Keep Alive
- **ุงูุชูุงูู**: ูุฏูุฌ ูู `server.js` ุชููุงุฆูุงู
- **ุงูุฐูุงุก**: ูุนูู ููุท ุนูู Render (ููุชุดู ุจูุฆุฉ ุงูุฅูุชุงุฌ)
- **ุงูุชูุฑุงุฑ**: ูู 8 ุฏูุงุฆู (ุฃูู ูู ุญุฏ ุงูู 15 ุฏูููุฉ)

```javascript
// ูุซุงู ุงูุงุณุชุฎุฏุงู ูู server.js
const KeepAliveService = require('./keep-alive');

const keepAlive = new KeepAliveService({
  url: process.env.RENDER_EXTERNAL_URL || `http://localhost:${PORT}`,
  interval: 8 * 60 * 1000, // 8 ุฏูุงุฆู
  endpoint: '/ping'
});

if (process.env.RENDER || process.env.NODE_ENV === 'production') {
  keepAlive.start();
}
```

### 2. Endpoints ูุญุณูุฉ
ุชู ุฅุถุงูุฉ endpoints ุฌุฏูุฏุฉ ูุญุณูุฉ:

- **`/ping`**: endpoint ุฎููู ููู keep alive (ูุฑุฏ ุจู "pong")
- **`/health`**: endpoint ุตุญุฉ ุดุงูู (JSON response ูุน ูุนูููุงุช ุงููุธุงู)
- **`/keep-alive-status`**: ุตูุญุฉ ููุจ ุชูุงุนููุฉ ููุฑุงูุจุฉ Keep Alive
- **`/status`**: ูุญุณู ููุดูู ุฅุญุตุงุฆูุงุช Keep Alive

### 3. External Keep Alive Scripts (ูููุฒูุฏ ูู ุงูุถูุงู)
ูููุงุช scripts ุฎุงุฑุฌูุฉ ูุญุณูุฉ:

#### Linux/Mac Bash Script:
```bash
chmod +x external-keepalive.sh
export RENDER_EXTERNAL_URL="https://fdfd-i8p9.onrender.com"
./external-keepalive.sh
```

#### Windows PowerShell Script:
```powershell
.\external-keepalive.ps1 -RenderUrl "https://fdfd-i8p9.onrender.com"
```

## โ๏ธ ุงูุชูููู ุงููุทููุจ

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุนูู Render:
1. ุงุฐูุจ ูู **Render Dashboard**
2. ุงุฎุชุฑ **Service Settings**
3. ุฃุถู **Environment Variables**:
   ```
   RENDER_EXTERNAL_URL=https://fdfd-i8p9.onrender.com
   NODE_ENV=production
   ```

### ุงูุชุญูู ูู ุงูุชูุนูู:
ุงุจุญุซ ูู ุงูููุฌุฒ ุนู ูุฐู ุงูุฑุณุงุฆู:
```
๐ Keep Alive Service activated for Render deployment
๐ Sending keep-alive ping at...
โ Keep-alive ping successful
```

## ๐ ูุฑุงูุจุฉ ุงููุธุงู

### 1. ุตูุญุฉ ุงููุฑุงูุจุฉ ุงูุชูุงุนููุฉ:
ุฒุฑ: `https://fdfd-i8p9.onrender.com/keep-alive-status`

**ุงููุนูููุงุช ุงููุนุฑูุถุฉ:**
- ุญุงูุฉ ุงููุธุงู (ูุดุท/ูุชููู)
- ุงูุฑุงุจุท ุงููุณุชูุฏู
- ูุชุฑุฉ ุงููุญุต
- ุขุฎุฑ ping
- ุฅุฌูุงูู ุงููุญุงููุงุช
- ุนุฏุฏ ุงููุฌุญ/ุงููุดู
- ูุนุฏู ุงููุฌุงุญ

### 2. API Status:
ุฒุฑ: `https://fdfd-i8p9.onrender.com/status`

ูุฑุฌุน JSON ูุน ูุนูููุงุช ุงููุธุงู ูKeep Alive:
```json
{
  "status": "running",
  "timestamp": "2025-08-16T...",
  "tracked_tokens": 5,
  "keep_alive": {
    "isRunning": true,
    "successRate": "100%",
    "totalPings": 42
  }
}
```

### 3. ูุฑุงูุจุฉ ุงูููุฌุฒ:
ูู **Render Dashboard > Logs** ุงุจุญุซ ุนู:
- `Keep Alive Service activated`
- `Keep-alive ping successful`
- `Keep-alive ping failed`

## โ ูุฒุงูุง ุงูุญู ุงูุฌุฏูุฏ

### ุงููุฒุงูุง ุงูุฑุฆูุณูุฉ:
- **๐ค ุชููุงุฆู 100%**: ูุนูู ุจุฏูู ุชุฏุฎู ูุฏูู
- **๐ง ุฐูู**: ูุนูู ููุท ุนูู Render (ููุณ ูุญููุงู)
- **โก ุณุฑูุน**: ping ุฎููู ูู 8 ุฏูุงุฆู
- **๐ ูุงุจู ูููุฑุงูุจุฉ**: ุฅุญุตุงุฆูุงุช ููุตูุฉ ูููุฌุฒ
- **๐ก๏ธ ุขูู**: ูุง ูุคุซุฑ ุนูู ุฃุฏุงุก ุงูุจูุช
- **๐ช ููุซูู**: ูุธุงู ุงุญุชูุงุทู ูุชุนุฏุฏ ุงููุณุชููุงุช

### ุงููุชุงุฆุฌ ุงููุชููุนุฉ:
- โ ุงูุจูุช ูุนูู 24/7 ุจุฏูู ุงููุทุงุน
- โ ุนุฏู ุธููุฑ "Service waking up" ููุงุฆูุงู
- โ ุนุฏู ููุฏุงู ุฑุณุงุฆู Telegram
- โ ุงุณุชุฌุงุจุฉ ููุฑูุฉ ููุฃูุงูุฑ
- โ ูุฑุงูุจุฉ ุดุงููุฉ ูููุธุงู

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูู ูุนูู ุงููุธุงู:

#### 1. ุชุญูู ูู ุงูุจูุฆุฉ:
```bash
# ูู Render Console
echo $NODE_ENV
echo $RENDER_EXTERNAL_URL
```

#### 2. ุชุญูู ูู ุงูููุฌุฒ:
ุงุจุญุซ ุนู ูุฐู ุงูุฑุณุงุฆู ูู Render Logs:
```
โ ุฅุฐุง ูู ุชุฌุฏ: "Keep Alive Service activated"
โ ุฅุฐุง ูุฌุฏุช: "Keep-alive ping failed"
```

#### 3. ุงุฎุชุจุงุฑ ุงูู endpoints:
```bash
# ุงุฎุชุจุงุฑ ูู ุงูุฎุงุฑุฌ
curl https://fdfd-i8p9.onrender.com/ping
curl https://fdfd-i8p9.onrender.com/health
```

#### 4. ูุฑุงุฌุนุฉ ุตูุญุฉ ุงููุฑุงูุจุฉ:
ุฒุฑ: `/keep-alive-status` ููุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ููุตูุฉ

#### 5. ุฅุนุงุฏุฉ ุงููุดุฑ:
ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ุฃุนุฏ ูุดุฑ ุงูุชุทุจูู ูู Render Dashboard

## ๐ฏ ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ

### ุชุฎุตูุต ูุชุฑุฉ Ping:
```javascript
// ูู server.js - ุชุบููุฑ ุฅูู 5 ุฏูุงุฆู
interval: 5 * 60 * 1000
```

### ุชุบููุฑ endpoint ุงููุฏู:
```javascript
// ูู server.js - ุงุณุชุฎุฏุงู /health ุจุฏูุงู ูู /ping
endpoint: '/health'
```

### ุชูุนูู Keep Alive ูุญููุงู (ููุงุฎุชุจุงุฑ):
```javascript
// ุฅุฒุงูุฉ ุดุฑุท ุงูุจูุฆุฉ
keepAlive.start(); // ุจุฏูู ุดุฑุท
```

### ุฅุถุงูุฉ ุชูุจููุงุช:
```javascript
// ูููู ุฅุถุงูุฉ webhook ุฃู email ุนูุฏ ูุดู ping
```

## ๐ ุงููุณุงุนุฏุฉ ูุงูุฏุนู

### ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. **ุชุญูู ูู Environment Variables** ูู Render
2. **ุฑุงุฌุน ุงูููุฌุฒ** ูู Render Dashboard
3. **ุฒุฑ `/keep-alive-status`** ููุฅุญุตุงุฆูุงุช
4. **ุงุฎุชุจุฑ ุงูู endpoints** ูู ุงูุฎุงุฑุฌ
5. **ุฃุนุฏ ุงููุดุฑ** ุฅุฐุง ูุฒู ุงูุฃูุฑ

### ูุนูููุงุช ูููุฉ:
- ุงููุธุงู ูุตูู ููุฎุทุฉ ุงููุฌุงููุฉ ูู Render
- ูู ุงูุฎุทุท ุงููุฏููุนุฉ ูุง ูุญุชุงุฌ Keep Alive
- ุงููุธุงู ูุง ูุคุซุฑ ุนูู ุงุณุชููุงู ุงูููุงุฑุฏ
- ูููู ุฅููุงูู ุจุณูููุฉ ุนุจุฑ Environment Variables

---

**๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ**: ุจูุช ูุนูู 24/7 ุจุฏูู ุชููู ุนูู Render ูุฌุงูุงู!
SERVER_URL=https://fdfd-i8p9.onrender.com PING_INTERVAL=480000 WEBHOOK_URL=https://discord.com/api/webhooks/... node monitor.js
```

### 4. ุณูุฑูุจุช Bash (Linux/Mac)
ููู `ping-server.sh` - ุณูุฑูุจุช ุจุณูุท ูุฃูุธูุฉ Unix.

**ููููุฉ ุงูุงุณุชุฎุฏุงู:**
```bash
chmod +x ping-server.sh
./ping-server.sh
```

### 5. ุณูุฑูุจุช Windows Batch
ููู `ping-server.bat` - ูููุณุชุฎุฏููู ุนูู Windows.

**ููููุฉ ุงูุงุณุชุฎุฏุงู:**
- ุงูุชุญ Command Prompt
- ุงูุชูู ุฅูู ูุฌูุฏ ุงููุดุฑูุน
- ุดุบูู: `ping-server.bat`

## ๐ ูุฑุงูุจุฉ ุงูุญุงูุฉ

ุงูุณูุฑูุฑ ูููุฑ ุนุฏุฉ endpoints ูููุฑุงูุจุฉ:

### `/health` - Health Check (JSON)
```json
{
  "status": "OK",
  "timestamp": "2025-01-15T10:30:00.000Z",
  "uptime": "2h 30m 45s",
  "trackedTokens": 5,
  "keepAlive": {
    "attempts": 15,
    "successes": 15,
    "successRate": "100.0%",
    "lastPing": "2025-01-15T10:25:00.000Z"
  }
}
```

### `/status` - ุตูุญุฉ ูุฑุงูุจุฉ ูุฑุฆูุฉ
ุตูุญุฉ HTML ุชุนุฑุถ ุญุงูุฉ ุงูุณูุฑูุฑ ุจุงูุนุฑุจูุฉ ูุน ุชุญุฏูุซ ุชููุงุฆู ูู 30 ุซุงููุฉ.

### `/ping` - Ping ุจุณูุท
ูุฑุฌุน "pong" - ูููุฏ ูููุญุต ุงูุณุฑูุน.

## ๐ง ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ
```bash
# ุฑุงุจุท ุงูุณูุฑูุฑ (ููุณุชุฎุฏู ููู keep-alive ุงูุฏุงุฎูู)
RENDER_EXTERNAL_URL=https://fdfd-i8p9.onrender.com

# ุฑุงุจุท webhook ููุชูุจููุงุช (ุงุฎุชูุงุฑู)
WEBHOOK_URL=https://discord.com/api/webhooks/...

# ูุชุฑุฉ ุงููุฑุงูุจุฉ ุจุงููููู ุซุงููุฉ (ูููุฑุงูุจ ุงูุฎุงุฑุฌู)
PING_INTERVAL=480000
```

### ุชุฎุตูุต ูุชุฑุฉ ุงููุฑุงูุจุฉ
ูููู ุชุนุฏูู ูุชุฑุฉ ุงููุฑุงูุจุฉ ูู:
- `server.js`: ุงูุณุทุฑ ุงูุฐู ูุญุชูู ุนูู `setInterval(keepAlive, 10 * 60 * 1000)`
- `monitor.js`: ูุชุบูุฑ `PING_INTERVAL`
- GitHub Actions: `cron: '*/8 * * * *'`

## ๐ก๏ธ ุฃูุถู ุงูููุงุฑุณุงุช

1. **ุงุณุชุฎุฏู ุนุฏุฉ ุทุฑู ูุนุงู** ูุถูุงู ุฃูุตู ุงุณุชูุฑุงุฑ
2. **GitHub Actions + Keep-Alive ุงูุฏุงุฎูู** = ุญู ูุซุงูู
3. **ุฑุงูุจ ุงูุฅุญุตุงุฆูุงุช** ูู `/status` ููุชุฃูุฏ ูู ูุนุงููุฉ ุงููุธุงู
4. **ุงุณุชุฎุฏู UptimeRobot** ุฃู ุฎุฏูุฉ ูุฑุงูุจุฉ ุฎุงุฑุฌูุฉ ุฅุถุงููุฉ

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูุงู ุงูุณูุฑูุฑ ูุง ูุฒุงู ููุงู:
1. ุชุฃูุฏ ูู ุฃู GitHub Actions ููุนูุฉ
2. ุฑุงุฌุน logs ูู Render Dashboard
3. ุชุญูู ูู `/health` endpoint ูุฏููุงู
4. ุชุฃูุฏ ูู ุฃู ุงูู Keep-Alive ุงูุฏุงุฎูู ูุนูู

### ุฅุฐุง ูุงูุช ุงููุฑุงูุจุฉ ุงูุฎุงุฑุฌูุฉ ุชูุดู:
1. ุชุฃูุฏ ูู ุฃู curl ูุซุจุช
2. ุชุญูู ูู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
3. ุฌุฑุจ ping ุงูู `/ping` endpoint ุจุฏูุงู ูู `/health`

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุฑุงุฌุน logs ุงูุณูุฑูุฑ ูู Render
2. ุชุญูู ูู `/status` page
3. ุฌุฑุจ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ ูู Render Dashboard

---

## โก ููุฎุต ุณุฑูุน

**ููุญุตูู ุนูู ุฃูุถู ุงููุชุงุฆุฌ:**
1. โ ุงุณุชุฎุฏู ุงูู Keep-Alive ุงูุฏุงุฎูู (ูุฏูุฌ ุจุงููุนู)
2. โ ูุนูู GitHub Actions workflow
3. โ ุงุดุชุฑู ูู ุฎุฏูุฉ ูุฑุงูุจุฉ ูุซู UptimeRobot
4. โ ุฑุงูุจ `/status` ุจุงูุชุธุงู

ูุฐุง ุงููุฒูุฌ ุณูุถูู ุฃู ุณูุฑูุฑู ูุนูู 24/7 ุจุฏูู ุงููุทุงุน! ๐
