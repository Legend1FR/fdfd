# حل مشكلة PHONE_NUMBER_BANNED في Render

## سبب المشكلة:
المشكلة تحدث لأن الكود يحاول استخدام رقم هاتف وهمي "+967xxxxxxxxx" للتسجيل في تيليجرام، وهذا الرقم محظور أو غير صحيح.

## الحل:

### 1. إنشاء الجلسة محلياً أولاً:
```bash
# تشغيل الكود محلياً بـ رقم هاتف صحيح
# قم بتعديل PHONE_NUMBER في server.js إلى رقمك الحقيقي
# ثم شغل الكود محلياً
node server.js
```

### 2. رفع ملف الجلسة إلى GitHub:
بعد تشغيل الكود محلياً، سيتم إنشاء ملف `session.txt` يحتوي على جلسة صالحة.
تأكد من رفع هذا الملف إلى المستودع.

### 3. استخدام متغيرات البيئة في Render:
يمكنك الآن إضافة متغيرات البيئة التالية في إعدادات Render:

```
PHONE_NUMBER=+967xxxxxxxxx    # رقمك الحقيقي
PASSWORD=your_password        # كلمة مرور 2FA إذا كانت موجودة
API_ID=your_api_id           # من my.telegram.org
API_HASH=your_api_hash       # من my.telegram.org
```

### 4. التحديثات المطبقة في الكود:

✅ **التحقق من وجود جلسة صالحة**: إذا كان هناك ملف `session.txt` صالح، سيتم استخدامه مباشرة بدون طلب رقم الهاتف.

✅ **استخدام متغيرات البيئة**: الكود يقرأ الآن من متغيرات البيئة بدلاً من القيم المكتوبة مباشرة.

✅ **معالجة أفضل للأخطاء**: إضافة معالجة خاصة لخطأ `PHONE_NUMBER_BANNED`.

✅ **رسائل خطأ واضحة**: الكود يخبرك بوضوح إذا كانت المشكلة في رقم الهاتف أو الجلسة.

## الخطوات بالتفصيل:

### محلياً:
1. عدل `PHONE_NUMBER` في `server.js` إلى رقمك الحقيقي
2. شغل `node server.js`
3. أدخل كود التحقق عند الطلب
4. ستظهر رسالة "Session saved to session.txt"

### في Render:
1. ارفع الملفات المحدثة مع `session.txt` إلى GitHub
2. أضف متغيرات البيئة في إعدادات Render (اختياري)
3. أعد تشغيل الخدمة

## ملاحظات مهمة:

⚠️ **لا تشارك ملف session.txt**: هذا الملف يحتوي على معلومات دخولك لتيليجرام.

⚠️ **احتفظ بنسخة احتياطية**: احفظ نسخة من session.txt في مكان آمن.

✅ **الكود محدث الآن**: لن تحتاج لإدخال رقم الهاتف في كل مرة طالما أن session.txt موجود وصالح.
